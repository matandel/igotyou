<div class="container">
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle
        >{{ 'List of saved templates' | uppercase}}</ion-card-subtitle
      >
    </ion-card-header>
    <ion-card-content>
      <ion-searchbar
        [(ngModel)]="searchString"
        placeholder="Search templates..."
        animated
        (ngModelChange)="filterTemplates()"
      ></ion-searchbar>
      <ion-list>
        <ion-item *ngFor="let templateKey of visibleTemplateKeys">
          <ion-label *ngIf="templateKey !== editedTemplateKey"
            >{{getTemplateName(templateKey)}}
          </ion-label>
          <ion-input
            #nameInput
            *ngIf="templateKey === editedTemplateKey"
            [(ngModel)]="templateName"
          ></ion-input>
          <ion-icon
            *ngIf="templateKey !== editedTemplateKey"
            slot="end"
            [ios]="'create-outline'"
            [md]="'create-sharp'"
            [color]="'tertiary'"
            class="input-icon"
            (click)="enableTemplateEdit(templateKey)"
          ></ion-icon>
          <ion-icon
            *ngIf="templateKey !== editedTemplateKey"
            slot="end"
            [ios]="'trash-outline'"
            [md]="'trash-sharp'"
            [color]="'primary'"
            class="input-icon"
            (click)="confirmTemplateDelete(templateKey)"
          ></ion-icon>
          <ion-icon
            *ngIf="templateKey === editedTemplateKey"
            slot="end"
            [ios]="'close-outline'"
            [md]="'close-sharp'"
            [color]="'secondary'"
            class="input-icon"
            (click)="disableTemplateEdit()"
          ></ion-icon>
          <ion-icon
            *ngIf="templateKey === editedTemplateKey"
            slot="end"
            [ios]="'save-outline'"
            [md]="'save-sharp'"
            [color]="'tertiary'"
            class="input-icon"
            (click)="saveTemplateName(templateKey)"
          ></ion-icon>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</div>
